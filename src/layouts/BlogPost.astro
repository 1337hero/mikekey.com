---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import Layout from "../layouts/Layout.astro";
import FormattedDate from "../components/FormattedDate.astro";

export interface Props {
  title: string;
  description?: string;
  date: Date;
  updatedDate?: Date;
  heroImage?: ImageMetadata;
}

const { title, description, date, updatedDate, heroImage } =
  Astro.props as Props;
---

<Layout title={title} description={description ?? ""} image={heroImage}>
  <section class="py-10 md:py-12">
    <div class="container-content">
      {heroImage && (
        <div class="w-full mb-8 m-auto flex justify-center">
          <Image width={"100%"} height={"auto"} src={heroImage} alt={title} />
        </div>
      )}

      <article>
        <header class="mb-6">
          <h1 class="font-display font-bold text-step-3 mb-2">
            {title}
          </h1>
          <div class="text-sm">
            <FormattedDate date={date} />
            {updatedDate && (
              <span class="ml-2">
                â€¢ Updated <FormattedDate date={updatedDate} />
              </span>
            )}
          </div>
          <hr class="mt-4" />
        </header>

        <div class="prose dark:prose-invert max-w-none">
          <slot />
        </div>
      </article>
    </div>
  </section>
</Layout>
